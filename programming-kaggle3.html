<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>캐글 (3) <br> 타이타닉 생존자 EDA 부터 분류까지</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    
    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- 웹폰트 추가-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- syntax.css 추가-->
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="데이터 사이언티스트를 꿈꾸는 블로그입니다." />
    <link rel="shortcut icon" href="https://keonju2.github.io/assets/built/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="https://keonju2.github.io/programming-kaggle3" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="주건나's Blog" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="캐글 (3) <br> 타이타닉 생존자 EDA 부터 분류까지" />
    <meta property="og:description" content="kaggle 관련 글 캐글 (1) Simple Matplotlib &amp; Visualization Tips 공부하기 캐글 (2) 타이타닉 튜토리얼 1,2 공부하기 캐글 (3) 타이타닉 생존자 EDA 부터 분류까지 캐글 (4) 타이타닉 생존자 앙상블과 스태킹까지 캐글 (5) 메타 데이터를 이용한 데이터 관찰 및 준비 https://www.kaggle.com/ash316/eda-to-prediction-dietanic/notebook 캐글의 타이타닉 데이터를 통한 EDA부터 예측까지 필사를 진행해보았습니다. 데이터 탐색" />
    <meta property="og:url" content="https://keonju2.github.io/programming-kaggle3" />
    <meta property="og:image" content="https://keonju2.github.io/assets/built/images/kaggle-logo.png" />
    <meta property="article:publisher" content="https://www.facebook.com/monkeykeonju" />
    <meta property="article:author" content="https://www.facebook.com/monkeykeonju" />
    <meta property="article:published_time" content="2021-11-07T21:00:00+09:00" />
    <meta property="article:modified_time" content="2021-11-07T21:00:00+09:00" />
    <meta property="article:tag" content="Programming" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="캐글 (3) <br> 타이타닉 생존자 EDA 부터 분류까지" />
    <meta name="twitter:description" content="kaggle 관련 글 캐글 (1) Simple Matplotlib &amp; Visualization Tips 공부하기 캐글 (2) 타이타닉 튜토리얼 1,2 공부하기 캐글 (3) 타이타닉 생존자 EDA 부터 분류까지 캐글 (4) 타이타닉 생존자 앙상블과 스태킹까지 캐글 (5) 메타 데이터를 이용한 데이터 관찰 및 준비 https://www.kaggle.com/ash316/eda-to-prediction-dietanic/notebook 캐글의 타이타닉 데이터를 통한 EDA부터 예측까지 필사를 진행해보았습니다. 데이터 탐색" />
    <meta name="twitter:url" content="https://keonju2.github.io/" />
    <meta name="twitter:image" content="https://keonju2.github.io/assets/built/images/kaggle-logo.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="주건나's Blog" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Programming" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "주건나's Blog",
        "logo": "https://keonju2.github.io/"
    },
    "url": "https://keonju2.github.io/programming-kaggle3",
    "image": {
        "@type": "ImageObject",
        "url": "https://keonju2.github.io/assets/built/images/kaggle-logo.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://keonju2.github.io/programming-kaggle3"
    },
    "description": "kaggle 관련 글 캐글 (1) Simple Matplotlib &amp; Visualization Tips 공부하기 캐글 (2) 타이타닉 튜토리얼 1,2 공부하기 캐글 (3) 타이타닉 생존자 EDA 부터 분류까지 캐글 (4) 타이타닉 생존자 앙상블과 스태킹까지 캐글 (5) 메타 데이터를 이용한 데이터 관찰 및 준비 https://www.kaggle.com/ash316/eda-to-prediction-dietanic/notebook 캐글의 타이타닉 데이터를 통한 EDA부터 예측까지 필사를 진행해보았습니다. 데이터 탐색"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="캐글 (3) <br> 타이타닉 생존자 EDA 부터 분류까지" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://keonju2.github.io/">주건나's Blog</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-R" role="menuitem"><a href="/tag/programming/">프로그래밍 언어</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/activity/">대외활동</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/license/">자격증</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/study/">이론 공부</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>
</ul>
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
                <a class="social-link social-link-fb" href="https://facebook.com/monkeykeonju" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
</a>
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
            </script>
            <script type="text/javascript" src="http://cdn.mathjax.org/math...">
            </script>
        
        <article class="post-full  tag-programming post tag-kaggle ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 7 November 2021"> 7 November 2021</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/programming/'>PROGRAMMING</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">캐글 (3) <br> 타이타닉 생존자 EDA 부터 분류까지</h1>
            </header>
            <!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/kaggle-logo.png)">
            </figure>
            
             -->
            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p><span class="table-of-contents-list">kaggle 관련 글</span></p>
<ul class="table-of-contents-list">
    <li><a href="./programming-kaggle1">캐글 (1) Simple Matplotlib &amp; Visualization Tips 공부하기</a></li>
    <li><a href="./programming-kaggle2">캐글 (2) 타이타닉 튜토리얼 1,2 공부하기</a></li>
    <li><a href="./programming-kaggle3">캐글 (3) 타이타닉 생존자 EDA 부터 분류까지</a></li>
    <li><a href="./programming-kaggle4">캐글 (4) 타이타닉 생존자 앙상블과 스태킹까지</a></li>
    <li><a href="./programming-kaggle5">캐글 (5) 메타 데이터를 이용한 데이터 관찰 및 준비</a></li>
</ul>

<p><a href="https://www.kaggle.com/ash316/eda-to-prediction-dietanic/notebook">https://www.kaggle.com/ash316/eda-to-prediction-dietanic/notebook</a></p>

<p>캐글의 타이타닉 데이터를 통한 EDA부터 예측까지 필사를 진행해보았습니다.</p>

<h2 id="데이터-탐색">데이터 탐색</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>

<span class="n">plt</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="n">use</span><span class="p">(</span><span class="s">'fivethirtyeight'</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="p">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s">'ignore'</span><span class="p">)</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="o">=</span><span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'train.csv'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>Braund, Mr. Owen Harris</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>A/5 21171</td>
      <td>7.2500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>PC 17599</td>
      <td>71.2833</td>
      <td>C85</td>
      <td>C</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>1</td>
      <td>3</td>
      <td>Heikkinen, Miss. Laina</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>STON/O2. 3101282</td>
      <td>7.9250</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>1</td>
      <td>1</td>
      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>113803</td>
      <td>53.1000</td>
      <td>C123</td>
      <td>S</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0</td>
      <td>3</td>
      <td>Allen, Mr. William Henry</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>373450</td>
      <td>8.0500</td>
      <td>NaN</td>
      <td>S</td>
    </tr>
  </tbody>
</table>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">.</span><span class="n">isnull</span><span class="p">().</span><span class="nb">sum</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PassengerId      0
Survived         0
Pclass           0
Name             0
Sex              0
Age            177
SibSp            0
Parch            0
Ticket           0
Fare             0
Cabin          687
Embarked         2
dtype: int64
</code></pre></div></div>

<h3 id="얼마나-많은-사람들이-살아남았나">얼마나 많은 사람들이 살아남았나?</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">data</span><span class="p">[</span><span class="s">'Survived'</span><span class="p">].</span><span class="n">value_counts</span><span class="p">().</span><span class="n">plot</span><span class="p">.</span><span class="n">pie</span><span class="p">(</span><span class="n">explode</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.1</span><span class="p">],</span><span class="n">autopct</span><span class="o">=</span><span class="s">'%1.1f%%'</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">shadow</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Survived'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Survived'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644212-c73d4608-ac58-4624-9282-1f518a567a53.png" alt="output_6_0" /></p>

<p>train_set에서 891명의 승객 중, 350명이 살아남았습니다.</p>

<blockquote>
  <p>범주형 변수
Sex, Embarked</p>
</blockquote>

<blockquote>
  <p>순서형 변수<br />
PClass</p>
</blockquote>

<blockquote>
  <p>연속형 변수<br />
Age</p>
</blockquote>

<h3 id="특징-분석">특징 분석</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Sex -&gt; Categorical Feature
</span>
<span class="n">data</span><span class="p">.</span><span class="n">groupby</span><span class="p">([</span><span class="s">'Sex'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">])[</span><span class="s">'Survived'</span><span class="p">].</span><span class="n">count</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Sex     Survived
female  0            81
        1           233
male    0           468
        1           109
Name: Survived, dtype: int64
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">data</span><span class="p">[[</span><span class="s">'Sex'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">]].</span><span class="n">groupby</span><span class="p">([</span><span class="s">'Sex'</span><span class="p">]).</span><span class="n">mean</span><span class="p">().</span><span class="n">plot</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Survived vs Sex'</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="s">'Sex'</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Sex:Survived vs Dead'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;function matplotlib.pyplot.show(close=None, block=None)&gt;
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644213-98247a56-dd46-4ae5-9379-db9d4cc9d285.png" alt="output_11_1" /></p>

<p>배에 탄 남자의 수가 여자의 수보다 많지만 생존율은 여성이 훨씬 높습니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Pclass -&gt; Ordinal Feature
</span>
<span class="n">pd</span><span class="p">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">Pclass</span><span class="p">,</span><span class="n">data</span><span class="p">.</span><span class="n">Survived</span><span class="p">,</span><span class="n">margins</span><span class="o">=</span><span class="bp">True</span><span class="p">).</span><span class="n">style</span><span class="p">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s">'summer_r'</span><span class="p">)</span>
</code></pre></div></div>

<style type="text/css">
#T_31d80646_3fba_11ec_b4ae_200bd04c1982row0_col0,#T_31d80646_3fba_11ec_b4ae_200bd04c1982row1_col1,#T_31d80646_3fba_11ec_b4ae_200bd04c1982row1_col2{
            background-color:  #ffff66;
            color:  #000000;
        }#T_31d80646_3fba_11ec_b4ae_200bd04c1982row0_col1{
            background-color:  #cee666;
            color:  #000000;
        }#T_31d80646_3fba_11ec_b4ae_200bd04c1982row0_col2{
            background-color:  #f4fa66;
            color:  #000000;
        }#T_31d80646_3fba_11ec_b4ae_200bd04c1982row1_col0{
            background-color:  #f6fa66;
            color:  #000000;
        }#T_31d80646_3fba_11ec_b4ae_200bd04c1982row2_col0{
            background-color:  #60b066;
            color:  #000000;
        }#T_31d80646_3fba_11ec_b4ae_200bd04c1982row2_col1{
            background-color:  #dfef66;
            color:  #000000;
        }#T_31d80646_3fba_11ec_b4ae_200bd04c1982row2_col2{
            background-color:  #90c866;
            color:  #000000;
        }#T_31d80646_3fba_11ec_b4ae_200bd04c1982row3_col0,#T_31d80646_3fba_11ec_b4ae_200bd04c1982row3_col1,#T_31d80646_3fba_11ec_b4ae_200bd04c1982row3_col2{
            background-color:  #008066;
            color:  #f1f1f1;
        }</style>
<table id="T_31d80646_3fba_11ec_b4ae_200bd04c1982"><thead>    <tr>        <th class="index_name level0">Survived</th>        <th class="col_heading level0 col0">0</th>        <th class="col_heading level0 col1">1</th>        <th class="col_heading level0 col2">All</th>    </tr>    <tr>        <th class="index_name level0">Pclass</th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>    </tr></thead><tbody>
                <tr>
                        <th id="T_31d80646_3fba_11ec_b4ae_200bd04c1982level0_row0" class="row_heading level0 row0">1</th>
                        <td id="T_31d80646_3fba_11ec_b4ae_200bd04c1982row0_col0" class="data row0 col0">80</td>
                        <td id="T_31d80646_3fba_11ec_b4ae_200bd04c1982row0_col1" class="data row0 col1">136</td>
                        <td id="T_31d80646_3fba_11ec_b4ae_200bd04c1982row0_col2" class="data row0 col2">216</td>
            </tr>
            <tr>
                        <th id="T_31d80646_3fba_11ec_b4ae_200bd04c1982level0_row1" class="row_heading level0 row1">2</th>
                        <td id="T_31d80646_3fba_11ec_b4ae_200bd04c1982row1_col0" class="data row1 col0">97</td>
                        <td id="T_31d80646_3fba_11ec_b4ae_200bd04c1982row1_col1" class="data row1 col1">87</td>
                        <td id="T_31d80646_3fba_11ec_b4ae_200bd04c1982row1_col2" class="data row1 col2">184</td>
            </tr>
            <tr>
                        <th id="T_31d80646_3fba_11ec_b4ae_200bd04c1982level0_row2" class="row_heading level0 row2">3</th>
                        <td id="T_31d80646_3fba_11ec_b4ae_200bd04c1982row2_col0" class="data row2 col0">372</td>
                        <td id="T_31d80646_3fba_11ec_b4ae_200bd04c1982row2_col1" class="data row2 col1">119</td>
                        <td id="T_31d80646_3fba_11ec_b4ae_200bd04c1982row2_col2" class="data row2 col2">491</td>
            </tr>
            <tr>
                        <th id="T_31d80646_3fba_11ec_b4ae_200bd04c1982level0_row3" class="row_heading level0 row3">All</th>
                        <td id="T_31d80646_3fba_11ec_b4ae_200bd04c1982row3_col0" class="data row3 col0">549</td>
                        <td id="T_31d80646_3fba_11ec_b4ae_200bd04c1982row3_col1" class="data row3 col1">342</td>
                        <td id="T_31d80646_3fba_11ec_b4ae_200bd04c1982row3_col2" class="data row3 col2">891</td>
            </tr>
    </tbody></table>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">data</span><span class="p">[</span><span class="s">'Pclass'</span><span class="p">].</span><span class="n">value_counts</span><span class="p">().</span><span class="n">plot</span><span class="p">.</span><span class="n">bar</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s">'#CD7F32'</span><span class="p">,</span><span class="s">'#FFDF00'</span><span class="p">,</span><span class="s">'#D3D3D3'</span><span class="p">],</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Number Of Passengers By Pclass'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Count'</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="s">'Pclass'</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Pclass:Survived vs Dead'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644214-0c49b1fa-7dc0-4645-a32d-2f3936ee28b1.png" alt="output_14_0" /></p>

<p>Pclass=3인 승객 수가 훨씬 많았지만 생존율은 매우 낮은 모습을 보이고 있습니다.<br />
따라서 부유한 사람의 생존율이 더 높다고 할 수 있습니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pd</span><span class="p">.</span><span class="n">crosstab</span><span class="p">([</span><span class="n">data</span><span class="p">.</span><span class="n">Sex</span><span class="p">,</span><span class="n">data</span><span class="p">.</span><span class="n">Survived</span><span class="p">],</span><span class="n">data</span><span class="p">.</span><span class="n">Pclass</span><span class="p">,</span><span class="n">margins</span><span class="o">=</span><span class="bp">True</span><span class="p">).</span><span class="n">style</span><span class="p">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s">'summer_r'</span><span class="p">)</span>
</code></pre></div></div>

<style type="text/css">
#T_320816c3_3fba_11ec_af5a_200bd04c1982row0_col0,#T_320816c3_3fba_11ec_af5a_200bd04c1982row0_col1,#T_320816c3_3fba_11ec_af5a_200bd04c1982row0_col3,#T_320816c3_3fba_11ec_af5a_200bd04c1982row3_col2{
            background-color:  #ffff66;
            color:  #000000;
        }#T_320816c3_3fba_11ec_af5a_200bd04c1982row0_col2,#T_320816c3_3fba_11ec_af5a_200bd04c1982row1_col2{
            background-color:  #f1f866;
            color:  #000000;
        }#T_320816c3_3fba_11ec_af5a_200bd04c1982row1_col0{
            background-color:  #96cb66;
            color:  #000000;
        }#T_320816c3_3fba_11ec_af5a_200bd04c1982row1_col1{
            background-color:  #a3d166;
            color:  #000000;
        }#T_320816c3_3fba_11ec_af5a_200bd04c1982row1_col3{
            background-color:  #cfe766;
            color:  #000000;
        }#T_320816c3_3fba_11ec_af5a_200bd04c1982row2_col0{
            background-color:  #a7d366;
            color:  #000000;
        }#T_320816c3_3fba_11ec_af5a_200bd04c1982row2_col1,#T_320816c3_3fba_11ec_af5a_200bd04c1982row2_col3{
            background-color:  #85c266;
            color:  #000000;
        }#T_320816c3_3fba_11ec_af5a_200bd04c1982row2_col2{
            background-color:  #6eb666;
            color:  #000000;
        }#T_320816c3_3fba_11ec_af5a_200bd04c1982row3_col0{
            background-color:  #cde666;
            color:  #000000;
        }#T_320816c3_3fba_11ec_af5a_200bd04c1982row3_col1{
            background-color:  #f0f866;
            color:  #000000;
        }#T_320816c3_3fba_11ec_af5a_200bd04c1982row3_col3{
            background-color:  #f7fb66;
            color:  #000000;
        }#T_320816c3_3fba_11ec_af5a_200bd04c1982row4_col0,#T_320816c3_3fba_11ec_af5a_200bd04c1982row4_col1,#T_320816c3_3fba_11ec_af5a_200bd04c1982row4_col2,#T_320816c3_3fba_11ec_af5a_200bd04c1982row4_col3{
            background-color:  #008066;
            color:  #f1f1f1;
        }</style>
<table id="T_320816c3_3fba_11ec_af5a_200bd04c1982"><thead>    <tr>        <th class="blank"></th>        <th class="index_name level0">Pclass</th>        <th class="col_heading level0 col0">1</th>        <th class="col_heading level0 col1">2</th>        <th class="col_heading level0 col2">3</th>        <th class="col_heading level0 col3">All</th>    </tr>    <tr>        <th class="index_name level0">Sex</th>        <th class="index_name level1">Survived</th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>    </tr></thead><tbody>
                <tr>
                        <th id="T_320816c3_3fba_11ec_af5a_200bd04c1982level0_row0" class="row_heading level0 row0" rowspan="2">female</th>
                        <th id="T_320816c3_3fba_11ec_af5a_200bd04c1982level1_row0" class="row_heading level1 row0">0</th>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row0_col0" class="data row0 col0">3</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row0_col1" class="data row0 col1">6</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row0_col2" class="data row0 col2">72</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row0_col3" class="data row0 col3">81</td>
            </tr>
            <tr>
                                <th id="T_320816c3_3fba_11ec_af5a_200bd04c1982level1_row1" class="row_heading level1 row1">1</th>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row1_col0" class="data row1 col0">91</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row1_col1" class="data row1 col1">70</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row1_col2" class="data row1 col2">72</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row1_col3" class="data row1 col3">233</td>
            </tr>
            <tr>
                        <th id="T_320816c3_3fba_11ec_af5a_200bd04c1982level0_row2" class="row_heading level0 row2" rowspan="2">male</th>
                        <th id="T_320816c3_3fba_11ec_af5a_200bd04c1982level1_row2" class="row_heading level1 row2">0</th>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row2_col0" class="data row2 col0">77</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row2_col1" class="data row2 col1">91</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row2_col2" class="data row2 col2">300</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row2_col3" class="data row2 col3">468</td>
            </tr>
            <tr>
                                <th id="T_320816c3_3fba_11ec_af5a_200bd04c1982level1_row3" class="row_heading level1 row3">1</th>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row3_col0" class="data row3 col0">45</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row3_col1" class="data row3 col1">17</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row3_col2" class="data row3 col2">47</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row3_col3" class="data row3 col3">109</td>
            </tr>
            <tr>
                        <th id="T_320816c3_3fba_11ec_af5a_200bd04c1982level0_row4" class="row_heading level0 row4">All</th>
                        <th id="T_320816c3_3fba_11ec_af5a_200bd04c1982level1_row4" class="row_heading level1 row4"></th>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row4_col0" class="data row4 col0">216</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row4_col1" class="data row4 col1">184</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row4_col2" class="data row4 col2">491</td>
                        <td id="T_320816c3_3fba_11ec_af5a_200bd04c1982row4_col3" class="data row4 col3">891</td>
            </tr>
    </tbody></table>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">factorplot</span><span class="p">(</span><span class="s">'Pclass'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s">'Sex'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644215-15efc73d-0829-4193-8f68-75e76d32928e.png" alt="output_17_0" /></p>

<p>CrossTab과 FactorPlot을 통해 성별과 Pclass간의 관계를 볼 수 있습니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Age--&gt; Continous Feature
</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Oldest Passenger was of:'</span><span class="p">,</span><span class="n">data</span><span class="p">[</span><span class="s">'Age'</span><span class="p">].</span><span class="nb">max</span><span class="p">(),</span><span class="s">'Years'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Youngest Passenger was of:'</span><span class="p">,</span><span class="n">data</span><span class="p">[</span><span class="s">'Age'</span><span class="p">].</span><span class="nb">min</span><span class="p">(),</span><span class="s">'Years'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Average Age on the ship:'</span><span class="p">,</span><span class="n">data</span><span class="p">[</span><span class="s">'Age'</span><span class="p">].</span><span class="n">mean</span><span class="p">(),</span><span class="s">'Years'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Oldest Passenger was of: 80.0 Years
Youngest Passenger was of: 0.42 Years
Average Age on the ship: 29.69911764705882 Years
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">sns</span><span class="p">.</span><span class="n">violinplot</span><span class="p">(</span><span class="s">"Pclass"</span><span class="p">,</span><span class="s">"Age"</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s">"Survived"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">split</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Pclass and Age vs Survived'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">sns</span><span class="p">.</span><span class="n">violinplot</span><span class="p">(</span><span class="s">"Sex"</span><span class="p">,</span><span class="s">"Age"</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s">"Survived"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">split</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Sex and Age vs Survived'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644216-b9a094de-9e98-4bdf-9ec1-c5e3464d6fe1.png" alt="output_20_0" /></p>

<p>Pclass에 따라 연령대의 분포를 볼 수 있습니다.<br />
Sex와 Age의 관계를 본다면 연령층이 낮으면 성별과 상관없이 우수한 생존율을 볼 수 있습니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 정규식을 통한 Initial 추출
</span><span class="n">data</span><span class="p">[</span><span class="s">'Initial'</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    <span class="n">data</span><span class="p">[</span><span class="s">'Initial'</span><span class="p">]</span><span class="o">=</span><span class="n">data</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="nb">str</span><span class="p">.</span><span class="n">extract</span><span class="p">(</span><span class="s">'([A-Za-z]+)\.'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pd</span><span class="p">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">Initial</span><span class="p">,</span><span class="n">data</span><span class="p">.</span><span class="n">Sex</span><span class="p">).</span><span class="n">T</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s">'summer_r'</span><span class="p">)</span>
</code></pre></div></div>

<style type="text/css">
#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col0,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col1,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col3,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col4,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col5,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col7,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col8,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col12,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col15,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col16,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col2,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col6,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col9,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col10,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col11,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col13,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col14{
            background-color:  #ffff66;
            color:  #000000;
        }#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col2,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col6,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col9,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col10,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col11,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col13,#T_3296a038_3fba_11ec_a694_200bd04c1982row0_col14,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col0,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col1,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col3,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col4,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col5,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col7,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col8,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col12,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col15,#T_3296a038_3fba_11ec_a694_200bd04c1982row1_col16{
            background-color:  #008066;
            color:  #f1f1f1;
        }</style>
<table id="T_3296a038_3fba_11ec_a694_200bd04c1982"><thead>    <tr>        <th class="index_name level0">Initial</th>        <th class="col_heading level0 col0">Capt</th>        <th class="col_heading level0 col1">Col</th>        <th class="col_heading level0 col2">Countess</th>        <th class="col_heading level0 col3">Don</th>        <th class="col_heading level0 col4">Dr</th>        <th class="col_heading level0 col5">Jonkheer</th>        <th class="col_heading level0 col6">Lady</th>        <th class="col_heading level0 col7">Major</th>        <th class="col_heading level0 col8">Master</th>        <th class="col_heading level0 col9">Miss</th>        <th class="col_heading level0 col10">Mlle</th>        <th class="col_heading level0 col11">Mme</th>        <th class="col_heading level0 col12">Mr</th>        <th class="col_heading level0 col13">Mrs</th>        <th class="col_heading level0 col14">Ms</th>        <th class="col_heading level0 col15">Rev</th>        <th class="col_heading level0 col16">Sir</th>    </tr>    <tr>        <th class="index_name level0">Sex</th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>    </tr></thead><tbody>
                <tr>
                        <th id="T_3296a038_3fba_11ec_a694_200bd04c1982level0_row0" class="row_heading level0 row0">female</th>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col0" class="data row0 col0">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col1" class="data row0 col1">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col2" class="data row0 col2">1</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col3" class="data row0 col3">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col4" class="data row0 col4">1</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col5" class="data row0 col5">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col6" class="data row0 col6">1</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col7" class="data row0 col7">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col8" class="data row0 col8">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col9" class="data row0 col9">182</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col10" class="data row0 col10">2</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col11" class="data row0 col11">1</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col12" class="data row0 col12">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col13" class="data row0 col13">125</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col14" class="data row0 col14">1</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col15" class="data row0 col15">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row0_col16" class="data row0 col16">0</td>
            </tr>
            <tr>
                        <th id="T_3296a038_3fba_11ec_a694_200bd04c1982level0_row1" class="row_heading level0 row1">male</th>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col0" class="data row1 col0">1</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col1" class="data row1 col1">2</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col2" class="data row1 col2">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col3" class="data row1 col3">1</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col4" class="data row1 col4">6</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col5" class="data row1 col5">1</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col6" class="data row1 col6">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col7" class="data row1 col7">2</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col8" class="data row1 col8">40</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col9" class="data row1 col9">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col10" class="data row1 col10">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col11" class="data row1 col11">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col12" class="data row1 col12">517</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col13" class="data row1 col13">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col14" class="data row1 col14">0</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col15" class="data row1 col15">6</td>
                        <td id="T_3296a038_3fba_11ec_a694_200bd04c1982row1_col16" class="data row1 col16">1</td>
            </tr>
    </tbody></table>

<p>Miss, Mr뿐만 아니라 다른 명칭으로 적힌 사람들이 많다.<br />
따라서 이에 대한 처리가 필요하다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">[</span><span class="s">'Initial'</span><span class="p">].</span><span class="n">replace</span><span class="p">([</span><span class="s">'Mlle'</span><span class="p">,</span><span class="s">'Mme'</span><span class="p">,</span><span class="s">'Ms'</span><span class="p">,</span><span class="s">'Dr'</span><span class="p">,</span><span class="s">'Major'</span><span class="p">,</span><span class="s">'Lady'</span><span class="p">,</span><span class="s">'Countess'</span><span class="p">,</span><span class="s">'Jonkheer'</span><span class="p">,</span><span class="s">'Col'</span><span class="p">,</span><span class="s">'Rev'</span><span class="p">,</span><span class="s">'Capt'</span><span class="p">,</span><span class="s">'Sir'</span><span class="p">,</span><span class="s">'Don'</span><span class="p">],[</span><span class="s">'Miss'</span><span class="p">,</span><span class="s">'Miss'</span><span class="p">,</span><span class="s">'Miss'</span><span class="p">,</span><span class="s">'Mr'</span><span class="p">,</span><span class="s">'Mr'</span><span class="p">,</span><span class="s">'Mrs'</span><span class="p">,</span><span class="s">'Mrs'</span><span class="p">,</span><span class="s">'Other'</span><span class="p">,</span><span class="s">'Other'</span><span class="p">,</span><span class="s">'Other'</span><span class="p">,</span><span class="s">'Mr'</span><span class="p">,</span><span class="s">'Mr'</span><span class="p">,</span><span class="s">'Mr'</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'Initial'</span><span class="p">)[</span><span class="s">'Age'</span><span class="p">].</span><span class="n">mean</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Initial
Master     4.574167
Miss      21.860000
Mr        32.739609
Mrs       35.981818
Other     45.888889
Name: Age, dtype: float64
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">.</span><span class="n">Age</span><span class="p">.</span><span class="n">isnull</span><span class="p">())</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">Initial</span><span class="o">==</span><span class="s">'Mr'</span><span class="p">),</span><span class="s">'Age'</span><span class="p">]</span><span class="o">=</span><span class="mi">33</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">.</span><span class="n">Age</span><span class="p">.</span><span class="n">isnull</span><span class="p">())</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">Initial</span><span class="o">==</span><span class="s">'Mrs'</span><span class="p">),</span><span class="s">'Age'</span><span class="p">]</span><span class="o">=</span><span class="mi">36</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">.</span><span class="n">Age</span><span class="p">.</span><span class="n">isnull</span><span class="p">())</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">Initial</span><span class="o">==</span><span class="s">'Master'</span><span class="p">),</span><span class="s">'Age'</span><span class="p">]</span><span class="o">=</span><span class="mi">5</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">.</span><span class="n">Age</span><span class="p">.</span><span class="n">isnull</span><span class="p">())</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">Initial</span><span class="o">==</span><span class="s">'Miss'</span><span class="p">),</span><span class="s">'Age'</span><span class="p">]</span><span class="o">=</span><span class="mi">22</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">.</span><span class="n">Age</span><span class="p">.</span><span class="n">isnull</span><span class="p">())</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">Initial</span><span class="o">==</span><span class="s">'Other'</span><span class="p">),</span><span class="s">'Age'</span><span class="p">]</span><span class="o">=</span><span class="mi">46</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">.</span><span class="n">Age</span><span class="p">.</span><span class="n">isnull</span><span class="p">().</span><span class="nb">any</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>False
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">'Survived'</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">].</span><span class="n">Age</span><span class="p">.</span><span class="n">plot</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">'red'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Survived= 0'</span><span class="p">)</span>
<span class="n">x1</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">85</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x1</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">'Survived'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">].</span><span class="n">Age</span><span class="p">.</span><span class="n">plot</span><span class="p">.</span><span class="n">hist</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s">'green'</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">edgecolor</span><span class="o">=</span><span class="s">'black'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Survived= 1'</span><span class="p">)</span>
<span class="n">x2</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">85</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x2</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644217-7d88f08f-be7a-4310-98ae-5048acd62f20.png" alt="output_29_0" /></p>

<p>연령의 분포를 확인할 수 있으며 가장 많은 사망자를 가진 연령층도 파악할 수 있습니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">factorplot</span><span class="p">(</span><span class="s">'Pclass'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s">'Initial'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644218-4b1f1b6f-ea5d-47c6-80d4-67a3db9a3ae9.png" alt="output_31_0" /></p>

<p><img src="https://user-images.githubusercontent.com/54880474/140609363-34222d40-5179-4c94-9c69-72c7a9a82bdd.png" alt="output_31_1" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Embarked--&gt; Categorical Value
</span>
<span class="n">pd</span><span class="p">.</span><span class="n">crosstab</span><span class="p">([</span><span class="n">data</span><span class="p">.</span><span class="n">Embarked</span><span class="p">,</span><span class="n">data</span><span class="p">.</span><span class="n">Pclass</span><span class="p">],[</span><span class="n">data</span><span class="p">.</span><span class="n">Sex</span><span class="p">,</span><span class="n">data</span><span class="p">.</span><span class="n">Survived</span><span class="p">],</span><span class="n">margins</span><span class="o">=</span><span class="bp">True</span><span class="p">).</span><span class="n">style</span><span class="p">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s">'summer_r'</span><span class="p">)</span>
</code></pre></div></div>

<style type="text/css">
#T_335529c3_3fba_11ec_ae66_200bd04c1982row0_col0,#T_335529c3_3fba_11ec_ae66_200bd04c1982row1_col2{
            background-color:  #fcfe66;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row0_col1{
            background-color:  #d2e866;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row0_col2{
            background-color:  #f2f866;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row0_col3{
            background-color:  #d8ec66;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row0_col4,#T_335529c3_3fba_11ec_ae66_200bd04c1982row2_col3{
            background-color:  #e8f466;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row1_col0,#T_335529c3_3fba_11ec_ae66_200bd04c1982row3_col0,#T_335529c3_3fba_11ec_ae66_200bd04c1982row3_col1,#T_335529c3_3fba_11ec_ae66_200bd04c1982row3_col2,#T_335529c3_3fba_11ec_ae66_200bd04c1982row3_col3,#T_335529c3_3fba_11ec_ae66_200bd04c1982row3_col4,#T_335529c3_3fba_11ec_ae66_200bd04c1982row4_col0,#T_335529c3_3fba_11ec_ae66_200bd04c1982row4_col2,#T_335529c3_3fba_11ec_ae66_200bd04c1982row4_col3,#T_335529c3_3fba_11ec_ae66_200bd04c1982row4_col4{
            background-color:  #ffff66;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row1_col1,#T_335529c3_3fba_11ec_ae66_200bd04c1982row6_col0{
            background-color:  #f9fc66;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row1_col3,#T_335529c3_3fba_11ec_ae66_200bd04c1982row1_col4{
            background-color:  #fbfd66;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row2_col0,#T_335529c3_3fba_11ec_ae66_200bd04c1982row5_col1{
            background-color:  #e6f266;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row2_col1{
            background-color:  #f0f866;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row2_col2{
            background-color:  #eef666;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row2_col4,#T_335529c3_3fba_11ec_ae66_200bd04c1982row7_col0{
            background-color:  #edf666;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row4_col1{
            background-color:  #fefe66;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row5_col0{
            background-color:  #e3f166;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row5_col2{
            background-color:  #ecf666;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row5_col3{
            background-color:  #f8fc66;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row5_col4{
            background-color:  #ebf566;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row6_col1{
            background-color:  #cde666;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row6_col2{
            background-color:  #e4f266;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row6_col3{
            background-color:  #bede66;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row6_col4{
            background-color:  #dbed66;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row7_col1{
            background-color:  #bdde66;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row7_col2{
            background-color:  #d3e966;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row7_col3,#T_335529c3_3fba_11ec_ae66_200bd04c1982row8_col1{
            background-color:  #dcee66;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row7_col4{
            background-color:  #d1e866;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row8_col0{
            background-color:  #52a866;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row8_col2{
            background-color:  #81c066;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row8_col3{
            background-color:  #b0d866;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row8_col4{
            background-color:  #9acc66;
            color:  #000000;
        }#T_335529c3_3fba_11ec_ae66_200bd04c1982row9_col0,#T_335529c3_3fba_11ec_ae66_200bd04c1982row9_col1,#T_335529c3_3fba_11ec_ae66_200bd04c1982row9_col2,#T_335529c3_3fba_11ec_ae66_200bd04c1982row9_col3,#T_335529c3_3fba_11ec_ae66_200bd04c1982row9_col4{
            background-color:  #008066;
            color:  #f1f1f1;
        }</style>
<table id="T_335529c3_3fba_11ec_ae66_200bd04c1982"><thead>    <tr>        <th class="blank"></th>        <th class="index_name level0">Sex</th>        <th class="col_heading level0 col0" colspan="2">female</th>        <th class="col_heading level0 col2" colspan="2">male</th>        <th class="col_heading level0 col4">All</th>    </tr>    <tr>        <th class="blank"></th>        <th class="index_name level1">Survived</th>        <th class="col_heading level1 col0">0</th>        <th class="col_heading level1 col1">1</th>        <th class="col_heading level1 col2">0</th>        <th class="col_heading level1 col3">1</th>        <th class="col_heading level1 col4"></th>    </tr>    <tr>        <th class="index_name level0">Embarked</th>        <th class="index_name level1">Pclass</th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>    </tr></thead><tbody>
                <tr>
                        <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level0_row0" class="row_heading level0 row0" rowspan="3">C</th>
                        <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level1_row0" class="row_heading level1 row0">1</th>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row0_col0" class="data row0 col0">1</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row0_col1" class="data row0 col1">42</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row0_col2" class="data row0 col2">25</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row0_col3" class="data row0 col3">17</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row0_col4" class="data row0 col4">85</td>
            </tr>
            <tr>
                                <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level1_row1" class="row_heading level1 row1">2</th>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row1_col0" class="data row1 col0">0</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row1_col1" class="data row1 col1">7</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row1_col2" class="data row1 col2">8</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row1_col3" class="data row1 col3">2</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row1_col4" class="data row1 col4">17</td>
            </tr>
            <tr>
                                <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level1_row2" class="row_heading level1 row2">3</th>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row2_col0" class="data row2 col0">8</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row2_col1" class="data row2 col1">15</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row2_col2" class="data row2 col2">33</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row2_col3" class="data row2 col3">10</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row2_col4" class="data row2 col4">66</td>
            </tr>
            <tr>
                        <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level0_row3" class="row_heading level0 row3" rowspan="3">Q</th>
                        <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level1_row3" class="row_heading level1 row3">1</th>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row3_col0" class="data row3 col0">0</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row3_col1" class="data row3 col1">1</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row3_col2" class="data row3 col2">1</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row3_col3" class="data row3 col3">0</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row3_col4" class="data row3 col4">2</td>
            </tr>
            <tr>
                                <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level1_row4" class="row_heading level1 row4">2</th>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row4_col0" class="data row4 col0">0</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row4_col1" class="data row4 col1">2</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row4_col2" class="data row4 col2">1</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row4_col3" class="data row4 col3">0</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row4_col4" class="data row4 col4">3</td>
            </tr>
            <tr>
                                <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level1_row5" class="row_heading level1 row5">3</th>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row5_col0" class="data row5 col0">9</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row5_col1" class="data row5 col1">24</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row5_col2" class="data row5 col2">36</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row5_col3" class="data row5 col3">3</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row5_col4" class="data row5 col4">72</td>
            </tr>
            <tr>
                        <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level0_row6" class="row_heading level0 row6" rowspan="3">S</th>
                        <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level1_row6" class="row_heading level1 row6">1</th>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row6_col0" class="data row6 col0">2</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row6_col1" class="data row6 col1">46</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row6_col2" class="data row6 col2">51</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row6_col3" class="data row6 col3">28</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row6_col4" class="data row6 col4">127</td>
            </tr>
            <tr>
                                <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level1_row7" class="row_heading level1 row7">2</th>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row7_col0" class="data row7 col0">6</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row7_col1" class="data row7 col1">61</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row7_col2" class="data row7 col2">82</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row7_col3" class="data row7 col3">15</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row7_col4" class="data row7 col4">164</td>
            </tr>
            <tr>
                                <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level1_row8" class="row_heading level1 row8">3</th>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row8_col0" class="data row8 col0">55</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row8_col1" class="data row8 col1">33</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row8_col2" class="data row8 col2">231</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row8_col3" class="data row8 col3">34</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row8_col4" class="data row8 col4">353</td>
            </tr>
            <tr>
                        <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level0_row9" class="row_heading level0 row9">All</th>
                        <th id="T_335529c3_3fba_11ec_ae66_200bd04c1982level1_row9" class="row_heading level1 row9"></th>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row9_col0" class="data row9 col0">81</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row9_col1" class="data row9 col1">231</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row9_col2" class="data row9 col2">468</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row9_col3" class="data row9 col3">109</td>
                        <td id="T_335529c3_3fba_11ec_ae66_200bd04c1982row9_col4" class="data row9 col4">889</td>
            </tr>
    </tbody></table>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Chances for Survival by Port Of Embarkation¶
</span>
<span class="n">sns</span><span class="p">.</span><span class="n">factorplot</span><span class="p">(</span><span class="s">'Embarked'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">gcf</span><span class="p">()</span>
<span class="n">fig</span><span class="p">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644207-e964cc88-93e9-4c64-86ed-ec923f290fe3.png" alt="output_33_0" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">15</span><span class="p">))</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="s">'Embarked'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'No. Of Passengers Boarded'</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="s">'Embarked'</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s">'Sex'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Male-Female Split for Embarked'</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="s">'Embarked'</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Embarked vs Survived'</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="s">'Embarked'</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s">'Pclass'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Embarked vs Pclass'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140609365-02f8d583-e7a4-4371-8907-52a5aa25184b.png" alt="output_34_0" /></p>

<p>S에서 탑승한 사람이 가장 많습니다.<br />
그리고 이 사람들은 대부분 3 Class인 것을 확인할 수 있습니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">factorplot</span><span class="p">(</span><span class="s">'Pclass'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s">'Sex'</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s">'Embarked'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644209-40dd77ab-bae4-49c9-8ca2-1e09e56e2ce2.png" alt="output_36_0" /></p>

<p>PClass와 Embarked에 따른 생존률을 파악할 수 있습니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">[</span><span class="s">'Embarked'</span><span class="p">].</span><span class="n">fillna</span><span class="p">(</span><span class="s">'S'</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">.</span><span class="n">Embarked</span><span class="p">.</span><span class="n">isnull</span><span class="p">().</span><span class="nb">any</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>False
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># SibSip--&gt;Discrete Feature
</span>
<span class="n">pd</span><span class="p">.</span><span class="n">crosstab</span><span class="p">([</span><span class="n">data</span><span class="p">.</span><span class="n">SibSp</span><span class="p">],</span><span class="n">data</span><span class="p">.</span><span class="n">Survived</span><span class="p">).</span><span class="n">style</span><span class="p">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s">'summer_r'</span><span class="p">)</span>
</code></pre></div></div>

<style type="text/css">
#T_344f199c_3fba_11ec_8d2c_200bd04c1982row0_col0,#T_344f199c_3fba_11ec_8d2c_200bd04c1982row0_col1{
            background-color:  #008066;
            color:  #f1f1f1;
        }#T_344f199c_3fba_11ec_8d2c_200bd04c1982row1_col0{
            background-color:  #c4e266;
            color:  #000000;
        }#T_344f199c_3fba_11ec_8d2c_200bd04c1982row1_col1{
            background-color:  #77bb66;
            color:  #000000;
        }#T_344f199c_3fba_11ec_8d2c_200bd04c1982row2_col0,#T_344f199c_3fba_11ec_8d2c_200bd04c1982row4_col0{
            background-color:  #f9fc66;
            color:  #000000;
        }#T_344f199c_3fba_11ec_8d2c_200bd04c1982row2_col1{
            background-color:  #f0f866;
            color:  #000000;
        }#T_344f199c_3fba_11ec_8d2c_200bd04c1982row3_col0,#T_344f199c_3fba_11ec_8d2c_200bd04c1982row3_col1{
            background-color:  #fbfd66;
            color:  #000000;
        }#T_344f199c_3fba_11ec_8d2c_200bd04c1982row4_col1{
            background-color:  #fcfe66;
            color:  #000000;
        }#T_344f199c_3fba_11ec_8d2c_200bd04c1982row5_col0,#T_344f199c_3fba_11ec_8d2c_200bd04c1982row5_col1,#T_344f199c_3fba_11ec_8d2c_200bd04c1982row6_col1{
            background-color:  #ffff66;
            color:  #000000;
        }#T_344f199c_3fba_11ec_8d2c_200bd04c1982row6_col0{
            background-color:  #fefe66;
            color:  #000000;
        }</style>
<table id="T_344f199c_3fba_11ec_8d2c_200bd04c1982"><thead>    <tr>        <th class="index_name level0">Survived</th>        <th class="col_heading level0 col0">0</th>        <th class="col_heading level0 col1">1</th>    </tr>    <tr>        <th class="index_name level0">SibSp</th>        <th class="blank"></th>        <th class="blank"></th>    </tr></thead><tbody>
                <tr>
                        <th id="T_344f199c_3fba_11ec_8d2c_200bd04c1982level0_row0" class="row_heading level0 row0">0</th>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row0_col0" class="data row0 col0">398</td>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row0_col1" class="data row0 col1">210</td>
            </tr>
            <tr>
                        <th id="T_344f199c_3fba_11ec_8d2c_200bd04c1982level0_row1" class="row_heading level0 row1">1</th>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row1_col0" class="data row1 col0">97</td>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row1_col1" class="data row1 col1">112</td>
            </tr>
            <tr>
                        <th id="T_344f199c_3fba_11ec_8d2c_200bd04c1982level0_row2" class="row_heading level0 row2">2</th>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row2_col0" class="data row2 col0">15</td>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row2_col1" class="data row2 col1">13</td>
            </tr>
            <tr>
                        <th id="T_344f199c_3fba_11ec_8d2c_200bd04c1982level0_row3" class="row_heading level0 row3">3</th>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row3_col0" class="data row3 col0">12</td>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row3_col1" class="data row3 col1">4</td>
            </tr>
            <tr>
                        <th id="T_344f199c_3fba_11ec_8d2c_200bd04c1982level0_row4" class="row_heading level0 row4">4</th>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row4_col0" class="data row4 col0">15</td>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row4_col1" class="data row4 col1">3</td>
            </tr>
            <tr>
                        <th id="T_344f199c_3fba_11ec_8d2c_200bd04c1982level0_row5" class="row_heading level0 row5">5</th>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row5_col0" class="data row5 col0">5</td>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row5_col1" class="data row5 col1">0</td>
            </tr>
            <tr>
                        <th id="T_344f199c_3fba_11ec_8d2c_200bd04c1982level0_row6" class="row_heading level0 row6">8</th>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row6_col0" class="data row6 col0">7</td>
                        <td id="T_344f199c_3fba_11ec_8d2c_200bd04c1982row6_col1" class="data row6 col1">0</td>
            </tr>
    </tbody></table>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">barplot</span><span class="p">(</span><span class="s">'SibSp'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;AxesSubplot:xlabel='SibSp', ylabel='Survived'&gt;
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644201-10631d49-a746-49c4-82fc-a26628821b51.png" alt="output_41_1" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">factorplot</span><span class="p">(</span><span class="s">'SibSp'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;seaborn.axisgrid.FacetGrid at 0x2b48e376fa0&gt;
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140609367-49331657-6bd3-423c-bffc-7739ead06700.png" alt="output_42_0" /></p>

<p><img src="https://user-images.githubusercontent.com/54880474/140644220-85e31a0e-ab17-4991-97d5-7e3065432cb7.png" alt="output_42_1" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pd</span><span class="p">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">SibSp</span><span class="p">,</span><span class="n">data</span><span class="p">.</span><span class="n">Pclass</span><span class="p">).</span><span class="n">style</span><span class="p">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s">'summer_r'</span><span class="p">)</span>
</code></pre></div></div>

<style type="text/css">
#T_34b4220c_3fba_11ec_9915_200bd04c1982row0_col0,#T_34b4220c_3fba_11ec_9915_200bd04c1982row0_col1,#T_34b4220c_3fba_11ec_9915_200bd04c1982row0_col2{
            background-color:  #008066;
            color:  #f1f1f1;
        }#T_34b4220c_3fba_11ec_9915_200bd04c1982row1_col0{
            background-color:  #7bbd66;
            color:  #000000;
        }#T_34b4220c_3fba_11ec_9915_200bd04c1982row1_col1{
            background-color:  #8ac466;
            color:  #000000;
        }#T_34b4220c_3fba_11ec_9915_200bd04c1982row1_col2{
            background-color:  #c6e266;
            color:  #000000;
        }#T_34b4220c_3fba_11ec_9915_200bd04c1982row2_col0,#T_34b4220c_3fba_11ec_9915_200bd04c1982row4_col2{
            background-color:  #f6fa66;
            color:  #000000;
        }#T_34b4220c_3fba_11ec_9915_200bd04c1982row2_col1{
            background-color:  #eef666;
            color:  #000000;
        }#T_34b4220c_3fba_11ec_9915_200bd04c1982row2_col2{
            background-color:  #f8fc66;
            color:  #000000;
        }#T_34b4220c_3fba_11ec_9915_200bd04c1982row3_col0,#T_34b4220c_3fba_11ec_9915_200bd04c1982row3_col2{
            background-color:  #fafc66;
            color:  #000000;
        }#T_34b4220c_3fba_11ec_9915_200bd04c1982row3_col1{
            background-color:  #fdfe66;
            color:  #000000;
        }#T_34b4220c_3fba_11ec_9915_200bd04c1982row4_col0,#T_34b4220c_3fba_11ec_9915_200bd04c1982row4_col1,#T_34b4220c_3fba_11ec_9915_200bd04c1982row5_col0,#T_34b4220c_3fba_11ec_9915_200bd04c1982row5_col1,#T_34b4220c_3fba_11ec_9915_200bd04c1982row5_col2,#T_34b4220c_3fba_11ec_9915_200bd04c1982row6_col0,#T_34b4220c_3fba_11ec_9915_200bd04c1982row6_col1{
            background-color:  #ffff66;
            color:  #000000;
        }#T_34b4220c_3fba_11ec_9915_200bd04c1982row6_col2{
            background-color:  #fefe66;
            color:  #000000;
        }</style>
<table id="T_34b4220c_3fba_11ec_9915_200bd04c1982"><thead>    <tr>        <th class="index_name level0">Pclass</th>        <th class="col_heading level0 col0">1</th>        <th class="col_heading level0 col1">2</th>        <th class="col_heading level0 col2">3</th>    </tr>    <tr>        <th class="index_name level0">SibSp</th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>    </tr></thead><tbody>
                <tr>
                        <th id="T_34b4220c_3fba_11ec_9915_200bd04c1982level0_row0" class="row_heading level0 row0">0</th>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row0_col0" class="data row0 col0">137</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row0_col1" class="data row0 col1">120</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row0_col2" class="data row0 col2">351</td>
            </tr>
            <tr>
                        <th id="T_34b4220c_3fba_11ec_9915_200bd04c1982level0_row1" class="row_heading level0 row1">1</th>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row1_col0" class="data row1 col0">71</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row1_col1" class="data row1 col1">55</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row1_col2" class="data row1 col2">83</td>
            </tr>
            <tr>
                        <th id="T_34b4220c_3fba_11ec_9915_200bd04c1982level0_row2" class="row_heading level0 row2">2</th>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row2_col0" class="data row2 col0">5</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row2_col1" class="data row2 col1">8</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row2_col2" class="data row2 col2">15</td>
            </tr>
            <tr>
                        <th id="T_34b4220c_3fba_11ec_9915_200bd04c1982level0_row3" class="row_heading level0 row3">3</th>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row3_col0" class="data row3 col0">3</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row3_col1" class="data row3 col1">1</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row3_col2" class="data row3 col2">12</td>
            </tr>
            <tr>
                        <th id="T_34b4220c_3fba_11ec_9915_200bd04c1982level0_row4" class="row_heading level0 row4">4</th>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row4_col0" class="data row4 col0">0</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row4_col1" class="data row4 col1">0</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row4_col2" class="data row4 col2">18</td>
            </tr>
            <tr>
                        <th id="T_34b4220c_3fba_11ec_9915_200bd04c1982level0_row5" class="row_heading level0 row5">5</th>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row5_col0" class="data row5 col0">0</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row5_col1" class="data row5 col1">0</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row5_col2" class="data row5 col2">5</td>
            </tr>
            <tr>
                        <th id="T_34b4220c_3fba_11ec_9915_200bd04c1982level0_row6" class="row_heading level0 row6">8</th>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row6_col0" class="data row6 col0">0</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row6_col1" class="data row6 col1">0</td>
                        <td id="T_34b4220c_3fba_11ec_9915_200bd04c1982row6_col2" class="data row6 col2">7</td>
            </tr>
    </tbody></table>

<p>가족 수가 많은 class는 3 class인 것을 알 수 있으며 가족 수가 적을수록 더 좋은 생존률을 볼 수 있습니다.</p>

<h3 id="parch">Parch</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pd</span><span class="p">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">Parch</span><span class="p">,</span><span class="n">data</span><span class="p">.</span><span class="n">Pclass</span><span class="p">).</span><span class="n">style</span><span class="p">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s">'summer_r'</span><span class="p">)</span>
</code></pre></div></div>

<style type="text/css">
#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row0_col0,#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row0_col1,#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row0_col2{
            background-color:  #008066;
            color:  #f1f1f1;
        }#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row1_col0{
            background-color:  #cfe766;
            color:  #000000;
        }#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row1_col1{
            background-color:  #c2e066;
            color:  #000000;
        }#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row1_col2{
            background-color:  #dbed66;
            color:  #000000;
        }#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row2_col0{
            background-color:  #dfef66;
            color:  #000000;
        }#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row2_col1{
            background-color:  #e1f066;
            color:  #000000;
        }#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row2_col2{
            background-color:  #e3f166;
            color:  #000000;
        }#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row3_col0,#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row4_col1,#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row5_col0,#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row5_col1,#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row6_col0,#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row6_col1,#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row6_col2{
            background-color:  #ffff66;
            color:  #000000;
        }#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row3_col1{
            background-color:  #fcfe66;
            color:  #000000;
        }#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row3_col2,#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row4_col0,#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row4_col2{
            background-color:  #fefe66;
            color:  #000000;
        }#T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row5_col2{
            background-color:  #fdfe66;
            color:  #000000;
        }</style>
<table id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982"><thead>    <tr>        <th class="index_name level0">Pclass</th>        <th class="col_heading level0 col0">1</th>        <th class="col_heading level0 col1">2</th>        <th class="col_heading level0 col2">3</th>    </tr>    <tr>        <th class="index_name level0">Parch</th>        <th class="blank"></th>        <th class="blank"></th>        <th class="blank"></th>    </tr></thead><tbody>
                <tr>
                        <th id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982level0_row0" class="row_heading level0 row0">0</th>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row0_col0" class="data row0 col0">163</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row0_col1" class="data row0 col1">134</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row0_col2" class="data row0 col2">381</td>
            </tr>
            <tr>
                        <th id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982level0_row1" class="row_heading level0 row1">1</th>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row1_col0" class="data row1 col0">31</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row1_col1" class="data row1 col1">32</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row1_col2" class="data row1 col2">55</td>
            </tr>
            <tr>
                        <th id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982level0_row2" class="row_heading level0 row2">2</th>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row2_col0" class="data row2 col0">21</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row2_col1" class="data row2 col1">16</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row2_col2" class="data row2 col2">43</td>
            </tr>
            <tr>
                        <th id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982level0_row3" class="row_heading level0 row3">3</th>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row3_col0" class="data row3 col0">0</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row3_col1" class="data row3 col1">2</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row3_col2" class="data row3 col2">3</td>
            </tr>
            <tr>
                        <th id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982level0_row4" class="row_heading level0 row4">4</th>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row4_col0" class="data row4 col0">1</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row4_col1" class="data row4 col1">0</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row4_col2" class="data row4 col2">3</td>
            </tr>
            <tr>
                        <th id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982level0_row5" class="row_heading level0 row5">5</th>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row5_col0" class="data row5 col0">0</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row5_col1" class="data row5 col1">0</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row5_col2" class="data row5 col2">5</td>
            </tr>
            <tr>
                        <th id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982level0_row6" class="row_heading level0 row6">6</th>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row6_col0" class="data row6 col0">0</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row6_col1" class="data row6 col1">0</td>
                        <td id="T_34b83b9e_3fba_11ec_a5c1_200bd04c1982row6_col2" class="data row6 col2">1</td>
            </tr>
    </tbody></table>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">barplot</span><span class="p">(</span><span class="s">'Parch'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;AxesSubplot:xlabel='Parch', ylabel='Survived'&gt;
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644221-2acc76d3-2145-4f1a-bf99-5316e4d1049b.png" alt="output_47_1" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">factorplot</span><span class="p">(</span><span class="s">'Parch'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;seaborn.axisgrid.FacetGrid at 0x2b48ea62160&gt;
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644222-0819b980-2198-4488-a196-1b47d55f84f3.png" alt="output_48_1" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Fare--&gt; Continous Feature
</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Highest Fare was:'</span><span class="p">,</span><span class="n">data</span><span class="p">[</span><span class="s">'Fare'</span><span class="p">].</span><span class="nb">max</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Lowest Fare was:'</span><span class="p">,</span><span class="n">data</span><span class="p">[</span><span class="s">'Fare'</span><span class="p">].</span><span class="nb">min</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Average Fare was:'</span><span class="p">,</span><span class="n">data</span><span class="p">[</span><span class="s">'Fare'</span><span class="p">].</span><span class="n">mean</span><span class="p">())</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Highest Fare was: 512.3292
Lowest Fare was: 0.0
Average Fare was: 32.2042079685746
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">sns</span><span class="p">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">'Pclass'</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">].</span><span class="n">Fare</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Fares in Pclass 1'</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">'Pclass'</span><span class="p">]</span><span class="o">==</span><span class="mi">2</span><span class="p">].</span><span class="n">Fare</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Fares in Pclass 2'</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">'Pclass'</span><span class="p">]</span><span class="o">==</span><span class="mi">3</span><span class="p">].</span><span class="n">Fare</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Fares in Pclass 3'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644224-07f88186-d4b9-4699-b60d-077dadbfb057.png" alt="output_50_0" /></p>

<p>Pclass에서는 1등석 승객이 되면 생존 확률이 높은 것을 알 수 있습니다.<br />
나이는 어리면 생존율이 높다는 것을 알 수 있습니다.<br />
가족이 있다면 적은 가족일 때 생존율이 높은 것을 알 수 있습니다.</p>

<h3 id="특징들간의-상관관계">특징들간의 상관관계</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">corr</span><span class="p">(),</span><span class="n">annot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="s">'RdYlGn'</span><span class="p">,</span><span class="n">linewidths</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span> <span class="c1">#data.corr()--&gt;correlation matrix
</span><span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">gcf</span><span class="p">()</span>
<span class="n">fig</span><span class="p">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644225-4b1441c0-2616-4819-ae0f-4cb1b741eb41.png" alt="output_53_0" /></p>

<p>히트맵에서 상관관계를 볼 수 있습니다.<br />
양의 상관 관계와 음의 상관 관계가 있습니다.<br />
상관 관계가 높다면 둘은 multicolinearity라고 불리는 거의 동일한 정보를 포함하고 있다는 것을 알 수 있습니다.<br />
여기서는 SibSp와 Parch가 가장 높지만 0.41이기 때문에 multicolinearity가 없다고 할 수 있습니다.</p>

<h1 id="데이터-클리닝">데이터 클리닝</h1>

<p>데이터를 모두 중요하게 사용할 필요는 없기 때문에 관찰을 통해 새로운 데이터로 변경하는 것을 할 수 있습니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">[</span><span class="s">'Age_band'</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">'Age'</span><span class="p">]</span><span class="o">&lt;=</span><span class="mi">16</span><span class="p">,</span><span class="s">'Age_band'</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s">'Age'</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">16</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'Age'</span><span class="p">]</span><span class="o">&lt;=</span><span class="mi">32</span><span class="p">),</span><span class="s">'Age_band'</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s">'Age'</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">32</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'Age'</span><span class="p">]</span><span class="o">&lt;=</span><span class="mi">48</span><span class="p">),</span><span class="s">'Age_band'</span><span class="p">]</span><span class="o">=</span><span class="mi">2</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s">'Age'</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">48</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'Age'</span><span class="p">]</span><span class="o">&lt;=</span><span class="mi">64</span><span class="p">),</span><span class="s">'Age_band'</span><span class="p">]</span><span class="o">=</span><span class="mi">3</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">'Age'</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">64</span><span class="p">,</span><span class="s">'Age_band'</span><span class="p">]</span><span class="o">=</span><span class="mi">4</span>
<span class="n">data</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PassengerId</th>
      <th>Survived</th>
      <th>Pclass</th>
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>SibSp</th>
      <th>Parch</th>
      <th>Ticket</th>
      <th>Fare</th>
      <th>Cabin</th>
      <th>Embarked</th>
      <th>Initial</th>
      <th>Age_band</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>Braund, Mr. Owen Harris</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>A/5 21171</td>
      <td>7.2500</td>
      <td>NaN</td>
      <td>S</td>
      <td>Mr</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>PC 17599</td>
      <td>71.2833</td>
      <td>C85</td>
      <td>C</td>
      <td>Mrs</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">[</span><span class="s">'Age_band'</span><span class="p">].</span><span class="n">value_counts</span><span class="p">().</span><span class="n">to_frame</span><span class="p">().</span><span class="n">style</span><span class="p">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s">'summer'</span><span class="p">)</span>
</code></pre></div></div>

<style type="text/css">
#T_c030fe25_3fbb_11ec_aca6_200bd04c1982row0_col0{
            background-color:  #ffff66;
            color:  #000000;
        }#T_c030fe25_3fbb_11ec_aca6_200bd04c1982row1_col0{
            background-color:  #d8ec66;
            color:  #000000;
        }#T_c030fe25_3fbb_11ec_aca6_200bd04c1982row2_col0{
            background-color:  #40a066;
            color:  #000000;
        }#T_c030fe25_3fbb_11ec_aca6_200bd04c1982row3_col0{
            background-color:  #289366;
            color:  #000000;
        }#T_c030fe25_3fbb_11ec_aca6_200bd04c1982row4_col0{
            background-color:  #008066;
            color:  #f1f1f1;
        }</style>
<table id="T_c030fe25_3fbb_11ec_aca6_200bd04c1982"><thead>    <tr>        <th class="blank level0"></th>        <th class="col_heading level0 col0">Age_band</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_c030fe25_3fbb_11ec_aca6_200bd04c1982level0_row0" class="row_heading level0 row0">1</th>
                        <td id="T_c030fe25_3fbb_11ec_aca6_200bd04c1982row0_col0" class="data row0 col0">382</td>
            </tr>
            <tr>
                        <th id="T_c030fe25_3fbb_11ec_aca6_200bd04c1982level0_row1" class="row_heading level0 row1">2</th>
                        <td id="T_c030fe25_3fbb_11ec_aca6_200bd04c1982row1_col0" class="data row1 col0">325</td>
            </tr>
            <tr>
                        <th id="T_c030fe25_3fbb_11ec_aca6_200bd04c1982level0_row2" class="row_heading level0 row2">0</th>
                        <td id="T_c030fe25_3fbb_11ec_aca6_200bd04c1982row2_col0" class="data row2 col0">104</td>
            </tr>
            <tr>
                        <th id="T_c030fe25_3fbb_11ec_aca6_200bd04c1982level0_row3" class="row_heading level0 row3">3</th>
                        <td id="T_c030fe25_3fbb_11ec_aca6_200bd04c1982row3_col0" class="data row3 col0">69</td>
            </tr>
            <tr>
                        <th id="T_c030fe25_3fbb_11ec_aca6_200bd04c1982level0_row4" class="row_heading level0 row4">4</th>
                        <td id="T_c030fe25_3fbb_11ec_aca6_200bd04c1982row4_col0" class="data row4 col0">11</td>
            </tr>
    </tbody></table>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">factorplot</span><span class="p">(</span><span class="s">'Age_band'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s">'Pclass'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644227-fbf267e5-ac2d-4933-8c10-3c509db12ed8.png" alt="output_58_0" /></p>

<p>가족 수와 홀로 온 사람들 사이의 생존율을 볼 수 있습니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">[</span><span class="s">'Family_Size'</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
<span class="n">data</span><span class="p">[</span><span class="s">'Family_Size'</span><span class="p">]</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s">'Parch'</span><span class="p">]</span><span class="o">+</span><span class="n">data</span><span class="p">[</span><span class="s">'SibSp'</span><span class="p">]</span><span class="c1">#family size
</span><span class="n">data</span><span class="p">[</span><span class="s">'Alone'</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">.</span><span class="n">Family_Size</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span><span class="s">'Alone'</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>

<span class="n">sns</span><span class="p">.</span><span class="n">factorplot</span><span class="p">(</span><span class="s">'Family_Size'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;seaborn.axisgrid.FacetGrid at 0x2b48f8cf790&gt;
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644229-dc0f152c-312c-464a-97bc-7c5d19284163.png" alt="output_60_1" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">factorplot</span><span class="p">(</span><span class="s">'Alone'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;seaborn.axisgrid.FacetGrid at 0x2b48e966b80&gt;
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644202-a61c3b8b-6dc5-4fe6-8a7c-d3e1c7222d81.png" alt="output_61_1" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">factorplot</span><span class="p">(</span><span class="s">'Alone'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s">'Sex'</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s">'Pclass'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644203-125b7d9d-92a8-4d9b-8b39-2001d9dd1d3f.png" alt="output_62_0" /></p>

<h3 id="fare_range-범주화">Fare_Range 범주화</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">[</span><span class="s">'Fare_Range'</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="p">.</span><span class="n">qcut</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'Fare'</span><span class="p">],</span><span class="mi">4</span><span class="p">)</span>
<span class="n">data</span><span class="p">.</span><span class="n">groupby</span><span class="p">([</span><span class="s">'Fare_Range'</span><span class="p">])[</span><span class="s">'Survived'</span><span class="p">].</span><span class="n">mean</span><span class="p">().</span><span class="n">to_frame</span><span class="p">().</span><span class="n">style</span><span class="p">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s">'summer_r'</span><span class="p">)</span>
</code></pre></div></div>

<style type="text/css">
#T_54169ea0_3fbc_11ec_9354_200bd04c1982row0_col0{
            background-color:  #ffff66;
            color:  #000000;
        }#T_54169ea0_3fbc_11ec_9354_200bd04c1982row1_col0{
            background-color:  #b9dc66;
            color:  #000000;
        }#T_54169ea0_3fbc_11ec_9354_200bd04c1982row2_col0{
            background-color:  #54aa66;
            color:  #000000;
        }#T_54169ea0_3fbc_11ec_9354_200bd04c1982row3_col0{
            background-color:  #008066;
            color:  #f1f1f1;
        }</style>
<table id="T_54169ea0_3fbc_11ec_9354_200bd04c1982"><thead>    <tr>        <th class="blank level0"></th>        <th class="col_heading level0 col0">Survived</th>    </tr>    <tr>        <th class="index_name level0">Fare_Range</th>        <th class="blank"></th>    </tr></thead><tbody>
                <tr>
                        <th id="T_54169ea0_3fbc_11ec_9354_200bd04c1982level0_row0" class="row_heading level0 row0">(-0.001, 7.91]</th>
                        <td id="T_54169ea0_3fbc_11ec_9354_200bd04c1982row0_col0" class="data row0 col0">0.197309</td>
            </tr>
            <tr>
                        <th id="T_54169ea0_3fbc_11ec_9354_200bd04c1982level0_row1" class="row_heading level0 row1">(7.91, 14.454]</th>
                        <td id="T_54169ea0_3fbc_11ec_9354_200bd04c1982row1_col0" class="data row1 col0">0.303571</td>
            </tr>
            <tr>
                        <th id="T_54169ea0_3fbc_11ec_9354_200bd04c1982level0_row2" class="row_heading level0 row2">(14.454, 31.0]</th>
                        <td id="T_54169ea0_3fbc_11ec_9354_200bd04c1982row2_col0" class="data row2 col0">0.454955</td>
            </tr>
            <tr>
                        <th id="T_54169ea0_3fbc_11ec_9354_200bd04c1982level0_row3" class="row_heading level0 row3">(31.0, 512.329]</th>
                        <td id="T_54169ea0_3fbc_11ec_9354_200bd04c1982row3_col0" class="data row3 col0">0.581081</td>
            </tr>
    </tbody></table>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">[</span><span class="s">'Fare_cat'</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">'Fare'</span><span class="p">]</span><span class="o">&lt;=</span><span class="mf">7.91</span><span class="p">,</span><span class="s">'Fare_cat'</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s">'Fare'</span><span class="p">]</span><span class="o">&gt;</span><span class="mf">7.91</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'Fare'</span><span class="p">]</span><span class="o">&lt;=</span><span class="mf">14.454</span><span class="p">),</span><span class="s">'Fare_cat'</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s">'Fare'</span><span class="p">]</span><span class="o">&gt;</span><span class="mf">14.454</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'Fare'</span><span class="p">]</span><span class="o">&lt;=</span><span class="mi">31</span><span class="p">),</span><span class="s">'Fare_cat'</span><span class="p">]</span><span class="o">=</span><span class="mi">2</span>
<span class="n">data</span><span class="p">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s">'Fare'</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">31</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'Fare'</span><span class="p">]</span><span class="o">&lt;=</span><span class="mi">513</span><span class="p">),</span><span class="s">'Fare_cat'</span><span class="p">]</span><span class="o">=</span><span class="mi">3</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sns</span><span class="p">.</span><span class="n">factorplot</span><span class="p">(</span><span class="s">'Fare_cat'</span><span class="p">,</span><span class="s">'Survived'</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s">'Sex'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644204-2b196bd5-0534-47d2-a54f-b98421b7160f.png" alt="output_66_0" /></p>

<h3 id="문자열을-숫자로-범주화하기">문자열을 숫자로 범주화하기</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">[</span><span class="s">'Sex'</span><span class="p">].</span><span class="n">replace</span><span class="p">([</span><span class="s">'male'</span><span class="p">,</span><span class="s">'female'</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s">'Embarked'</span><span class="p">].</span><span class="n">replace</span><span class="p">([</span><span class="s">'S'</span><span class="p">,</span><span class="s">'C'</span><span class="p">,</span><span class="s">'Q'</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s">'Initial'</span><span class="p">].</span><span class="n">replace</span><span class="p">([</span><span class="s">'Mr'</span><span class="p">,</span><span class="s">'Mrs'</span><span class="p">,</span><span class="s">'Miss'</span><span class="p">,</span><span class="s">'Master'</span><span class="p">,</span><span class="s">'Other'</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">.</span><span class="n">drop</span><span class="p">([</span><span class="s">'Name'</span><span class="p">,</span><span class="s">'Age'</span><span class="p">,</span><span class="s">'Ticket'</span><span class="p">,</span><span class="s">'Fare'</span><span class="p">,</span><span class="s">'Cabin'</span><span class="p">,</span><span class="s">'Fare_Range'</span><span class="p">,</span><span class="s">'PassengerId'</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">corr</span><span class="p">(),</span><span class="n">annot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="s">'RdYlGn'</span><span class="p">,</span><span class="n">linewidths</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">annot_kws</span><span class="o">=</span><span class="p">{</span><span class="s">'size'</span><span class="p">:</span><span class="mi">20</span><span class="p">})</span>
<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">gcf</span><span class="p">()</span>
<span class="n">fig</span><span class="p">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644205-b4133b75-ab7a-4170-95de-4034a6a9c3d9.png" alt="output_69_0" /></p>

<h1 id="예측-모델-만들기">예측 모델 만들기</h1>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">svm</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span> 
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span> 
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">metrics</span> <span class="c1"># 정확도 확인
</span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>

</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">train</span><span class="p">,</span><span class="n">test</span><span class="o">=</span><span class="n">train_test_split</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">stratify</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s">'Survived'</span><span class="p">])</span>
<span class="n">train_X</span><span class="o">=</span><span class="n">train</span><span class="p">[</span><span class="n">train</span><span class="p">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
<span class="n">train_Y</span><span class="o">=</span><span class="n">train</span><span class="p">[</span><span class="n">train</span><span class="p">.</span><span class="n">columns</span><span class="p">[:</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">test_X</span><span class="o">=</span><span class="n">test</span><span class="p">[</span><span class="n">test</span><span class="p">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
<span class="n">test_Y</span><span class="o">=</span><span class="n">test</span><span class="p">[</span><span class="n">test</span><span class="p">.</span><span class="n">columns</span><span class="p">[:</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">X</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
<span class="n">Y</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s">'Survived'</span><span class="p">]</span>
</code></pre></div></div>

<h3 id="svm">SVM</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="o">=</span><span class="n">svm</span><span class="p">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="s">'rbf'</span><span class="p">,</span><span class="n">C</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">gamma</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span><span class="n">train_Y</span><span class="p">)</span>
<span class="n">prediction1</span><span class="o">=</span><span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_X</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Accuracy for rbf SVM is '</span><span class="p">,</span><span class="n">metrics</span><span class="p">.</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">prediction1</span><span class="p">,</span><span class="n">test_Y</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Accuracy for rbf SVM is  0.835820895522388
</code></pre></div></div>

<h3 id="linear-support-vector-machine">Linear Support Vector Machine</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="o">=</span><span class="n">svm</span><span class="p">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="s">'linear'</span><span class="p">,</span><span class="n">C</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span><span class="n">gamma</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span><span class="n">train_Y</span><span class="p">)</span>
<span class="n">prediction2</span><span class="o">=</span><span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_X</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Accuracy for linear SVM is'</span><span class="p">,</span><span class="n">metrics</span><span class="p">.</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">prediction2</span><span class="p">,</span><span class="n">test_Y</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Accuracy for linear SVM is 0.8171641791044776
</code></pre></div></div>

<h3 id="logistic-regression">Logistic Regression</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">()</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span><span class="n">train_Y</span><span class="p">)</span>
<span class="n">prediction3</span><span class="o">=</span><span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_X</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The accuracy of the Logistic Regression is'</span><span class="p">,</span><span class="n">metrics</span><span class="p">.</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">prediction3</span><span class="p">,</span><span class="n">test_Y</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The accuracy of the Logistic Regression is 0.8134328358208955
</code></pre></div></div>

<h3 id="decision-tree">Decision Tree</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="o">=</span><span class="n">DecisionTreeClassifier</span><span class="p">()</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span><span class="n">train_Y</span><span class="p">)</span>
<span class="n">prediction4</span><span class="o">=</span><span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_X</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The accuracy of the Decision Tree is'</span><span class="p">,</span><span class="n">metrics</span><span class="p">.</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">prediction4</span><span class="p">,</span><span class="n">test_Y</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The accuracy of the Decision Tree is 0.8022388059701493
</code></pre></div></div>

<h3 id="knn">KNN</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="o">=</span><span class="n">KNeighborsClassifier</span><span class="p">()</span> 
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span><span class="n">train_Y</span><span class="p">)</span>
<span class="n">prediction5</span><span class="o">=</span><span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_X</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The accuracy of the KNN is'</span><span class="p">,</span><span class="n">metrics</span><span class="p">.</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">prediction5</span><span class="p">,</span><span class="n">test_Y</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The accuracy of the KNN is 0.832089552238806
</code></pre></div></div>

<p>N의 개수에 따른 정확도 변화</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">a_index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">))</span>
<span class="n">a</span><span class="o">=</span><span class="n">pd</span><span class="p">.</span><span class="n">Series</span><span class="p">()</span>
<span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)):</span>
    <span class="n">model</span><span class="o">=</span><span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">i</span><span class="p">)</span> 
    <span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span><span class="n">train_Y</span><span class="p">)</span>
    <span class="n">prediction</span><span class="o">=</span><span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_X</span><span class="p">)</span>
    <span class="n">a</span><span class="o">=</span><span class="n">a</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="p">.</span><span class="n">Series</span><span class="p">(</span><span class="n">metrics</span><span class="p">.</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">prediction</span><span class="p">,</span><span class="n">test_Y</span><span class="p">)))</span>
<span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">a_index</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">gcf</span><span class="p">()</span>
<span class="n">fig</span><span class="p">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Accuracies for different values of n are:'</span><span class="p">,</span><span class="n">a</span><span class="p">.</span><span class="n">values</span><span class="p">,</span><span class="s">'with the max value as '</span><span class="p">,</span><span class="n">a</span><span class="p">.</span><span class="n">values</span><span class="p">.</span><span class="nb">max</span><span class="p">())</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644230-614d1dbd-9d01-4c21-9cb0-fbf8d4cf809f.png" alt="output_84_0" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Accuracies for different values of n are: [0.75746269 0.79104478 0.80970149 0.80223881 0.83208955 0.81716418
 0.82835821 0.83208955 0.8358209  0.83208955] with the max value as  0.835820895522388
</code></pre></div></div>

<h3 id="gaussian-naive-bayes">Gaussian Naive Bayes</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="o">=</span><span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span><span class="n">train_Y</span><span class="p">)</span>
<span class="n">prediction6</span><span class="o">=</span><span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_X</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The accuracy of the NaiveBayes is'</span><span class="p">,</span><span class="n">metrics</span><span class="p">.</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">prediction6</span><span class="p">,</span><span class="n">test_Y</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The accuracy of the NaiveBayes is 0.8134328358208955
</code></pre></div></div>

<h3 id="random-forests">Random Forests</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="o">=</span><span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span><span class="n">train_Y</span><span class="p">)</span>
<span class="n">prediction7</span><span class="o">=</span><span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_X</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The accuracy of the Random Forests is'</span><span class="p">,</span><span class="n">metrics</span><span class="p">.</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">prediction7</span><span class="p">,</span><span class="n">test_Y</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The accuracy of the Random Forests is 0.8246268656716418
</code></pre></div></div>

<h3 id="cross-validataion">Cross Validataion</h3>

<p>교차 검증을 통해서 확인을 해야합니다.<br />
K-Fold 교차분석을 사용합니다.<br />
shuffle=True를 넣어줘야합니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">KFold</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">cross_val_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">cross_val_predict</span>
<span class="n">kfold</span> <span class="o">=</span> <span class="n">KFold</span><span class="p">(</span><span class="n">n_splits</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">22</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> 
<span class="n">xyz</span><span class="o">=</span><span class="p">[]</span>
<span class="n">accuracy</span><span class="o">=</span><span class="p">[]</span>
<span class="n">std</span><span class="o">=</span><span class="p">[]</span>
<span class="n">classifiers</span><span class="o">=</span><span class="p">[</span><span class="s">'Linear Svm'</span><span class="p">,</span><span class="s">'Radial Svm'</span><span class="p">,</span><span class="s">'Logistic Regression'</span><span class="p">,</span><span class="s">'KNN'</span><span class="p">,</span><span class="s">'Decision Tree'</span><span class="p">,</span><span class="s">'Naive Bayes'</span><span class="p">,</span><span class="s">'Random Forest'</span><span class="p">]</span>
<span class="n">models</span><span class="o">=</span><span class="p">[</span><span class="n">svm</span><span class="p">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="s">'linear'</span><span class="p">),</span><span class="n">svm</span><span class="p">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="s">'rbf'</span><span class="p">),</span><span class="n">LogisticRegression</span><span class="p">(),</span><span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">9</span><span class="p">),</span><span class="n">DecisionTreeClassifier</span><span class="p">(),</span><span class="n">GaussianNB</span><span class="p">(),</span><span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">i</span>
    <span class="n">cv_result</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">model</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span> <span class="n">cv</span> <span class="o">=</span> <span class="n">kfold</span><span class="p">,</span><span class="n">scoring</span> <span class="o">=</span> <span class="s">"accuracy"</span><span class="p">)</span>
    <span class="n">cv_result</span><span class="o">=</span><span class="n">cv_result</span>
    <span class="n">xyz</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">cv_result</span><span class="p">.</span><span class="n">mean</span><span class="p">())</span>
    <span class="n">std</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">cv_result</span><span class="p">.</span><span class="n">std</span><span class="p">())</span>
    <span class="n">accuracy</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">cv_result</span><span class="p">)</span>
<span class="n">new_models_dataframe2</span><span class="o">=</span><span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s">'CV Mean'</span><span class="p">:</span><span class="n">xyz</span><span class="p">,</span><span class="s">'Std'</span><span class="p">:</span><span class="n">std</span><span class="p">},</span><span class="n">index</span><span class="o">=</span><span class="n">classifiers</span><span class="p">)</span>       
<span class="n">new_models_dataframe2</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CV Mean</th>
      <th>Std</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Linear Svm</th>
      <td>0.784607</td>
      <td>0.057841</td>
    </tr>
    <tr>
      <th>Radial Svm</th>
      <td>0.828377</td>
      <td>0.057096</td>
    </tr>
    <tr>
      <th>Logistic Regression</th>
      <td>0.799176</td>
      <td>0.040154</td>
    </tr>
    <tr>
      <th>KNN</th>
      <td>0.808140</td>
      <td>0.040287</td>
    </tr>
    <tr>
      <th>Decision Tree</th>
      <td>0.805868</td>
      <td>0.045909</td>
    </tr>
    <tr>
      <th>Naive Bayes</th>
      <td>0.795843</td>
      <td>0.054861</td>
    </tr>
    <tr>
      <th>Random Forest</th>
      <td>0.817104</td>
      <td>0.041512</td>
    </tr>
  </tbody>
</table>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">box</span><span class="o">=</span><span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">accuracy</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="n">classifiers</span><span class="p">])</span>
<span class="n">box</span><span class="p">.</span><span class="n">T</span><span class="p">.</span><span class="n">boxplot</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;AxesSubplot:&gt;
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644231-6c7317a2-cbcd-4055-9773-fb37b2f48f8b.png" alt="output_91_1" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">new_models_dataframe2</span><span class="p">[</span><span class="s">'CV Mean'</span><span class="p">].</span><span class="n">plot</span><span class="p">.</span><span class="n">barh</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Average CV Mean Accuracy'</span><span class="p">)</span>
<span class="n">fig</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">gcf</span><span class="p">()</span>
<span class="n">fig</span><span class="p">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644232-a3eb63e8-cc3b-4600-8dab-1f60be514daf.png" alt="output_92_0" /></p>

<p>heatmap을 통해 모델별 정확도 확인하기</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">cross_val_predict</span><span class="p">(</span><span class="n">svm</span><span class="p">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="s">'rbf'</span><span class="p">),</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">y_pred</span><span class="p">),</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">annot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="s">'2.0f'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Matrix for rbf-SVM'</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">cross_val_predict</span><span class="p">(</span><span class="n">svm</span><span class="p">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="s">'linear'</span><span class="p">),</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">y_pred</span><span class="p">),</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">annot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="s">'2.0f'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Matrix for Linear-SVM'</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">cross_val_predict</span><span class="p">(</span><span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">9</span><span class="p">),</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">y_pred</span><span class="p">),</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">annot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="s">'2.0f'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Matrix for KNN'</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">cross_val_predict</span><span class="p">(</span><span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">y_pred</span><span class="p">),</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">annot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="s">'2.0f'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Matrix for Random-Forests'</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">cross_val_predict</span><span class="p">(</span><span class="n">LogisticRegression</span><span class="p">(),</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">y_pred</span><span class="p">),</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">annot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="s">'2.0f'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Matrix for Logistic Regression'</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">cross_val_predict</span><span class="p">(</span><span class="n">DecisionTreeClassifier</span><span class="p">(),</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">y_pred</span><span class="p">),</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">annot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="s">'2.0f'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Matrix for Decision Tree'</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">cross_val_predict</span><span class="p">(</span><span class="n">GaussianNB</span><span class="p">(),</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">y_pred</span><span class="p">),</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">annot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="s">'2.0f'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Matrix for Naive Bayes'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644233-2333a44f-a242-4b11-9616-02a7d6bdac7c.png" alt="output_94_0" /></p>

<h3 id="하이퍼-파라미터-튜닝">하이퍼 파라미터 튜닝</h3>

<p>SVM과 Random Forest의 파라미터 튜닝하기</p>

<h4 id="svm-1">SVM</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GridSearchCV</span>
<span class="n">C</span><span class="o">=</span><span class="p">[</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">0.7</span><span class="p">,</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.9</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">gamma</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">0.7</span><span class="p">,</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.9</span><span class="p">,</span><span class="mf">1.0</span><span class="p">]</span>
<span class="n">kernel</span><span class="o">=</span><span class="p">[</span><span class="s">'rbf'</span><span class="p">,</span><span class="s">'linear'</span><span class="p">]</span>
<span class="n">hyper</span><span class="o">=</span><span class="p">{</span><span class="s">'kernel'</span><span class="p">:</span><span class="n">kernel</span><span class="p">,</span><span class="s">'C'</span><span class="p">:</span><span class="n">C</span><span class="p">,</span><span class="s">'gamma'</span><span class="p">:</span><span class="n">gamma</span><span class="p">}</span>
<span class="n">gd</span><span class="o">=</span><span class="n">GridSearchCV</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">svm</span><span class="p">.</span><span class="n">SVC</span><span class="p">(),</span><span class="n">param_grid</span><span class="o">=</span><span class="n">hyper</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">gd</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">gd</span><span class="p">.</span><span class="n">best_score_</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">gd</span><span class="p">.</span><span class="n">best_estimator_</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Fitting 5 folds for each of 240 candidates, totalling 1200 fits
0.8282593685267716
SVC(C=0.4, gamma=0.3)
</code></pre></div></div>

<h4 id="random-forest">Random Forest</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">n_estimators</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">hyper</span><span class="o">=</span><span class="p">{</span><span class="s">'n_estimators'</span><span class="p">:</span><span class="n">n_estimators</span><span class="p">}</span>
<span class="n">gd</span><span class="o">=</span><span class="n">GridSearchCV</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="n">param_grid</span><span class="o">=</span><span class="n">hyper</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">gd</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">gd</span><span class="p">.</span><span class="n">best_score_</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">gd</span><span class="p">.</span><span class="n">best_estimator_</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Fitting 5 folds for each of 9 candidates, totalling 45 fits
0.819327098110602
RandomForestClassifier(n_estimators=300, random_state=0)
</code></pre></div></div>

<h4 id="ensembling">Ensembling</h4>

<p>1) Voting Classifier
2) Bagging
3) Boosting</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Voting Classifier
</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">VotingClassifier</span>
<span class="n">ensemble_lin_rbf</span><span class="o">=</span><span class="n">VotingClassifier</span><span class="p">(</span><span class="n">estimators</span><span class="o">=</span><span class="p">[(</span><span class="s">'KNN'</span><span class="p">,</span><span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">10</span><span class="p">)),</span>
                                              <span class="p">(</span><span class="s">'RBF'</span><span class="p">,</span><span class="n">svm</span><span class="p">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">probability</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">kernel</span><span class="o">=</span><span class="s">'rbf'</span><span class="p">,</span><span class="n">C</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">gamma</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)),</span>
                                              <span class="p">(</span><span class="s">'RFor'</span><span class="p">,</span><span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)),</span>
                                              <span class="p">(</span><span class="s">'LR'</span><span class="p">,</span><span class="n">LogisticRegression</span><span class="p">(</span><span class="n">C</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)),</span>
                                              <span class="p">(</span><span class="s">'DT'</span><span class="p">,</span><span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)),</span>
                                              <span class="p">(</span><span class="s">'NB'</span><span class="p">,</span><span class="n">GaussianNB</span><span class="p">()),</span>
                                              <span class="p">(</span><span class="s">'svm'</span><span class="p">,</span><span class="n">svm</span><span class="p">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="s">'linear'</span><span class="p">,</span><span class="n">probability</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
                                             <span class="p">],</span> 
                       <span class="n">voting</span><span class="o">=</span><span class="s">'soft'</span><span class="p">).</span><span class="n">fit</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span><span class="n">train_Y</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The accuracy for ensembled model is:'</span><span class="p">,</span><span class="n">ensemble_lin_rbf</span><span class="p">.</span><span class="n">score</span><span class="p">(</span><span class="n">test_X</span><span class="p">,</span><span class="n">test_Y</span><span class="p">))</span>
<span class="n">cross</span><span class="o">=</span><span class="n">cross_val_score</span><span class="p">(</span><span class="n">ensemble_lin_rbf</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span> <span class="n">cv</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span><span class="n">scoring</span> <span class="o">=</span> <span class="s">"accuracy"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The cross validated score is'</span><span class="p">,</span><span class="n">cross</span><span class="p">.</span><span class="n">mean</span><span class="p">())</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The accuracy for ensembled model is: 0.8246268656716418
The cross validated score is 0.8249188514357053
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Bagging - KNN
</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">BaggingClassifier</span>
<span class="n">model</span><span class="o">=</span><span class="n">BaggingClassifier</span><span class="p">(</span><span class="n">base_estimator</span><span class="o">=</span><span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">700</span><span class="p">)</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span><span class="n">train_Y</span><span class="p">)</span>
<span class="n">prediction</span><span class="o">=</span><span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_X</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The accuracy for bagged KNN is:'</span><span class="p">,</span><span class="n">metrics</span><span class="p">.</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">prediction</span><span class="p">,</span><span class="n">test_Y</span><span class="p">))</span>
<span class="n">result</span><span class="o">=</span><span class="n">cross_val_score</span><span class="p">(</span><span class="n">model</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">scoring</span><span class="o">=</span><span class="s">'accuracy'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The cross validated score for bagged KNN is:'</span><span class="p">,</span><span class="n">result</span><span class="p">.</span><span class="n">mean</span><span class="p">())</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The accuracy for bagged KNN is: 0.835820895522388
The cross validated score for bagged KNN is: 0.8160424469413232
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Bagging DecisionTree
</span>
<span class="n">model</span><span class="o">=</span><span class="n">BaggingClassifier</span><span class="p">(</span><span class="n">base_estimator</span><span class="o">=</span><span class="n">DecisionTreeClassifier</span><span class="p">(),</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_X</span><span class="p">,</span><span class="n">train_Y</span><span class="p">)</span>
<span class="n">prediction</span><span class="o">=</span><span class="n">model</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">test_X</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The accuracy for bagged Decision Tree is:'</span><span class="p">,</span><span class="n">metrics</span><span class="p">.</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">prediction</span><span class="p">,</span><span class="n">test_Y</span><span class="p">))</span>
<span class="n">result</span><span class="o">=</span><span class="n">cross_val_score</span><span class="p">(</span><span class="n">model</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">scoring</span><span class="o">=</span><span class="s">'accuracy'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The cross validated score for bagged Decision Tree is:'</span><span class="p">,</span><span class="n">result</span><span class="p">.</span><span class="n">mean</span><span class="p">())</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The accuracy for bagged Decision Tree is: 0.8208955223880597
The cross validated score for bagged Decision Tree is: 0.8171410736579275
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># AdaBoost
</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">AdaBoostClassifier</span>
<span class="n">ada</span><span class="o">=</span><span class="n">AdaBoostClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">result</span><span class="o">=</span><span class="n">cross_val_score</span><span class="p">(</span><span class="n">ada</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">scoring</span><span class="o">=</span><span class="s">'accuracy'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The cross validated score for AdaBoost is:'</span><span class="p">,</span><span class="n">result</span><span class="p">.</span><span class="n">mean</span><span class="p">())</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The cross validated score for AdaBoost is: 0.8249188514357055
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Stochastic Gradient Boosting
</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">GradientBoostingClassifier</span>
<span class="n">grad</span><span class="o">=</span><span class="n">GradientBoostingClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">result</span><span class="o">=</span><span class="n">cross_val_score</span><span class="p">(</span><span class="n">grad</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">scoring</span><span class="o">=</span><span class="s">'accuracy'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The cross validated score for Gradient Boosting is:'</span><span class="p">,</span><span class="n">result</span><span class="p">.</span><span class="n">mean</span><span class="p">())</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The cross validated score for Gradient Boosting is: 0.8115230961298376
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># XGBoost
</span>
<span class="kn">import</span> <span class="nn">xgboost</span> <span class="k">as</span> <span class="n">xg</span>
<span class="n">xgboost</span><span class="o">=</span><span class="n">xg</span><span class="p">.</span><span class="n">XGBClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">900</span><span class="p">,</span><span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">result</span><span class="o">=</span><span class="n">cross_val_score</span><span class="p">(</span><span class="n">xgboost</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">scoring</span><span class="o">=</span><span class="s">'accuracy'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The cross validated score for XGBoost is:'</span><span class="p">,</span><span class="n">result</span><span class="p">.</span><span class="n">mean</span><span class="p">())</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[20:33:40] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.4.0/src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
[20:33:41] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.4.0/src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
[20:33:41] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.4.0/src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
[20:33:42] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.4.0/src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
[20:33:43] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.4.0/src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
[20:33:44] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.4.0/src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
[20:33:44] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.4.0/src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
[20:33:45] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.4.0/src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
[20:33:46] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.4.0/src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
[20:33:46] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.4.0/src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
The cross validated score for XGBoost is: 0.8160299625468165
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Hyper-Parameter Tuning for AdaBoost
</span>
<span class="n">n_estimators</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">1100</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">learn_rate</span><span class="o">=</span><span class="p">[</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mf">0.25</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">0.7</span><span class="p">,</span><span class="mf">0.8</span><span class="p">,</span><span class="mf">0.9</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">hyper</span><span class="o">=</span><span class="p">{</span><span class="s">'n_estimators'</span><span class="p">:</span><span class="n">n_estimators</span><span class="p">,</span><span class="s">'learning_rate'</span><span class="p">:</span><span class="n">learn_rate</span><span class="p">}</span>
<span class="n">gd</span><span class="o">=</span><span class="n">GridSearchCV</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">AdaBoostClassifier</span><span class="p">(),</span><span class="n">param_grid</span><span class="o">=</span><span class="n">hyper</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">gd</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">gd</span><span class="p">.</span><span class="n">best_score_</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">gd</span><span class="p">.</span><span class="n">best_estimator_</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Fitting 5 folds for each of 120 candidates, totalling 600 fits
0.8293892411022534
AdaBoostClassifier(learning_rate=0.1, n_estimators=100)
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Confusion Matrix for the Best Model
</span>
<span class="n">ada</span><span class="o">=</span><span class="n">AdaBoostClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">result</span><span class="o">=</span><span class="n">cross_val_predict</span><span class="p">(</span><span class="n">ada</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">result</span><span class="p">),</span><span class="n">cmap</span><span class="o">=</span><span class="s">'winter'</span><span class="p">,</span><span class="n">annot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="s">'2.0f'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644234-c0ecd1dd-6640-475c-8c3f-b8c5eb10e69b.png" alt="output_108_0" /></p>

<h3 id="feature-importance">Feature Importance</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
<span class="n">model</span><span class="o">=</span><span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span>
<span class="n">pd</span><span class="p">.</span><span class="n">Series</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">feature_importances_</span><span class="p">,</span><span class="n">X</span><span class="p">.</span><span class="n">columns</span><span class="p">).</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="bp">True</span><span class="p">).</span><span class="n">plot</span><span class="p">.</span><span class="n">barh</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Feature Importance in Random Forests'</span><span class="p">)</span>
<span class="n">model</span><span class="o">=</span><span class="n">AdaBoostClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span><span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span>
<span class="n">pd</span><span class="p">.</span><span class="n">Series</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">feature_importances_</span><span class="p">,</span><span class="n">X</span><span class="p">.</span><span class="n">columns</span><span class="p">).</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="bp">True</span><span class="p">).</span><span class="n">plot</span><span class="p">.</span><span class="n">barh</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s">'#ddff11'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Feature Importance in AdaBoost'</span><span class="p">)</span>
<span class="n">model</span><span class="o">=</span><span class="n">GradientBoostingClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span><span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span>
<span class="n">pd</span><span class="p">.</span><span class="n">Series</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">feature_importances_</span><span class="p">,</span><span class="n">X</span><span class="p">.</span><span class="n">columns</span><span class="p">).</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="bp">True</span><span class="p">).</span><span class="n">plot</span><span class="p">.</span><span class="n">barh</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">cmap</span><span class="o">=</span><span class="s">'RdYlGn_r'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Feature Importance in Gradient Boosting'</span><span class="p">)</span>
<span class="n">model</span><span class="o">=</span><span class="n">xg</span><span class="p">.</span><span class="n">XGBClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">900</span><span class="p">,</span><span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">model</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">)</span>
<span class="n">pd</span><span class="p">.</span><span class="n">Series</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">feature_importances_</span><span class="p">,</span><span class="n">X</span><span class="p">.</span><span class="n">columns</span><span class="p">).</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="bp">True</span><span class="p">).</span><span class="n">plot</span><span class="p">.</span><span class="n">barh</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s">'#FD0F00'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">].</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Feature Importance in XgBoost'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[20:39:55] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.4.0/src/learner.cc:1095: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/54880474/140644455-975f1910-d6ee-4b58-8e55-035bd5c04a3a.png" alt="output_110_1" /></p>


                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!--
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to 주건나's Blog</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()" 
               id="searchtext" type="text" name="searchtext"  
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
                </section>
            
            -->
            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/economy-author-logo.jpg" alt="keonju" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/keonju">주건나</a></h4>
                                
                                    <p>데이터 / ML / DL / AI 관련 공부중입니다.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/keonju">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'https://keonju2.github.io/programming-kaggle3';
                            var this_page_identifier = '/programming-kaggle3';
                            var this_page_title = '캐글 (3) <br> 타이타닉 생존자 EDA 부터 분류까지';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://xxxxxxxx.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover1.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; 주건나's Blog &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/programming/">Programming</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/programming-kaggle5">캐글 (5) <br> 메타 데이터를 이용한 <br> 데이터 관찰 및 준비</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/programming-baekjoon9">백준 (9) <br> (1927,11279,11286, <br> 1715,11766)</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/programming-kaggle4">캐글 (4) 타이타닉 생존자 앙상블과 스태킹까지</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/programming/">
                                
                                    See all 14 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/programming-baekjoon8">
                <div class="post-card-image" style="background-image: url(/assets/built/images/baekjoon-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/programming-baekjoon8">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Programming</span>
                            
                        
                    

                    <h2 class="post-card-title">백준 (8) <br> (10845,1158,1966,2164, <br> 11866,18258)</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>백준 관련 글 백준 (1) (2557, 8958, 1000, 1001, 1008, 2935, 2753, 2884, 5063, 4101) 백준 (2) (1018, 1085, 1181, 1259, 1436, 1654, 1874, 1920) 백준 (3) 문자열 알고리즘(11720, 8958, 1152, 10809, 1157,</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/economy-author-logo.jpg" alt="주건나" />
                        
                        <span class="post-card-author">
                            <a href="/author/keonju/">주건나</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      3 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/study-ML5">
                <div class="post-card-image" style="background-image: url(/assets/built/images/ML.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/study-ML5">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Study</span>
                            
                        
                    

                    <h2 class="post-card-title">머신러닝 정리 (5) <br> 데이터 표현과 특성 공학</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>머신러닝 공부 관련 글

    머신러닝 정리 (1)-지도학습 (1)
    머신러닝 정리 (2)-지도학습 (2)
    머신러닝 정리 (3)-비지도학습 (1)
    머신러닝 정리 (4)-비지도학습 (2)
    머신러닝 정리 (5)-데이터 표현과 특성 공학
    머신러닝 정리 (6)-모델 평가와 성능 향상


</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/economy-author-logo.jpg" alt="주건나" />
                        
                        <span class="post-card-author">
                            <a href="/author/keonju/">주건나</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      9 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://keonju2.github.io/">
            
            <span>주건나's Blog</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">캐글 (3) <br> 타이타닉 생존자 EDA 부터 분류까지</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=%EC%BA%90%EA%B8%80+%283%29+%3Cbr%3E+%ED%83%80%EC%9D%B4%ED%83%80%EB%8B%89+%EC%83%9D%EC%A1%B4%EC%9E%90+EDA+%EB%B6%80%ED%84%B0+%EB%B6%84%EB%A5%98%EA%B9%8C%EC%A7%80&amp;url=https://keonju2.github.io/programming-kaggle3"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://keonju2.github.io/programming-kaggle3"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://keonju2.github.io/">주건나's Blog</a> &copy; 2023</section>
                <!--
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                -->
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    <a href="https://facebook.com/monkeykeonju" target="_blank" rel="noopener">Facebook</a>
                    
                    <!--
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                     -->
                </nav>

            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
    <div id="subscribe" class="subscribe-overlay">
        <a class="subscribe-overlay-close" href="#"></a>
        <div class="subscribe-overlay-content">
            
            <h1 class="subscribe-overlay-title">Search 주건나's Blog</h1>
            <p class="subscribe-overlay-description">
            검색어를 입력해주세요 </p>
            <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()" 
               id="searchtext" type="text" name="searchtext"  
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
        </div>
    </div>
    


    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-6FJ2289869', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
